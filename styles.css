:root{--chat-primary-color: #8167DF;--chat-primary-hover: #352476;--chat-background: #ffffff;--chat-surface: #EFECFB;--chat-text-primary: #111827;--chat-text-secondary: #6b7280;--chat-border: #e5e7eb;--chat-shadow: rgba(0, 0, 0, .1);--chat-shadow-lg: rgba(0, 0, 0, .15);--chat-user-message-bg: #8167DF;--chat-user-message-text: #ffffff;--chat-bot-message-bg: #f3f4f6;--chat-bot-message-text: #111827;--chat-transition: .3s cubic-bezier(.4, 0, .2, 1)}[data-theme=dark]{--chat-primary-color: #8167DF;--chat-primary-hover: #352476;--chat-background: #1f2937;--chat-surface: #1f2937;--chat-text-primary: #f9fafb;--chat-text-secondary: #9ca3af;--chat-border: #374151;--chat-shadow: rgba(0, 0, 0, .3);--chat-shadow-lg: rgba(0, 0, 0, .5);--chat-user-message-bg: #8167DF;--chat-user-message-text: #ffffff;--chat-bot-message-bg: #374151;--chat-bot-message-text: #f9fafb}[data-mode=embedded]{position:relative;width:100%;height:100%}[data-mode=modal],[data-mode=floating]{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:9999}.chatbot-widget{display:flex;flex-direction:column;background:var(--chat-background);border-radius:16px;box-shadow:0 10px 40px var(--chat-shadow-lg);overflow:hidden;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;transition:all var(--chat-transition);pointer-events:all}[data-mode=embedded] .chatbot-widget{width:100%;height:100%;border-radius:0}[data-mode=modal] .chatbot-widget{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) scale(.9);width:90%;max-width:450px;height:80vh;max-height:700px;opacity:0;visibility:hidden}[data-mode=modal] .chatbot-widget.widget-open{transform:translate(-50%,-50%) scale(1);opacity:1;visibility:visible}[data-mode=floating] .chatbot-widget{position:absolute;width:90%;max-width:400px;height:600px;max-height:80vh;opacity:0;visibility:hidden;transform:translateY(20px)}[data-mode=floating] .chatbot-widget{bottom:70px;right:20px}[data-mode=floating] .chatbot-widget.widget-open{opacity:1;visibility:visible;transform:translateY(0)}.chatbot-widget.widget-minimized #chatbox,.chatbot-widget.widget-minimized #chatbot-input,.chatbot-widget.widget-minimized #chatbot-footer{display:none}.chatbot-widget.widget-minimized{height:auto!important}.chatbot-header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;background:linear-gradient(135deg,var(--chat-primary-color),var(--chat-primary-hover));color:#fff;gap:12px}.chatbot-header-content{display:flex;align-items:center;gap:12px;flex:1}.chatbot-header-logo{width:40px;height:40px;border-radius:50%;object-fit:cover;border:2px solid rgba(255,255,255,.3)}.chatbot-header-text{flex:1}.chatbot-header-title{font-size:18px;font-weight:600;margin:0;line-height:1.2}.chatbot-header-subtitle{font-size:13px;margin:4px 0 0;opacity:.9;line-height:1.2}.chatbot-header-actions{display:flex;gap:8px}.chatbot-action-btn{background:#fff3;border:none;border-radius:8px;width:36px;height:36px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#fff;transition:all .2s}.chatbot-action-btn:hover{background:#ffffff4d}.chatbot-action-btn:active{transform:scale(.95)}.chatbot-floating-btn{position:absolute;width:60px;height:60px;border-radius:50%;background:linear-gradient(135deg,var(--chat-primary-color),var(--chat-primary-hover));color:#fff;border:none;cursor:pointer;box-shadow:0 4px 20px var(--chat-shadow-lg);display:flex;align-items:center;justify-content:center;font-size:28px;transition:all .3s;pointer-events:all;z-index:9998}.chatbot-floating-btn.bottom-right{bottom:20px;right:20px}.chatbot-floating-btn.bottom-left{bottom:20px;left:20px}.chatbot-floating-btn.top-right{top:20px;right:20px}.chatbot-floating-btn.top-left{top:20px;left:20px}.chatbot-floating-btn:hover{transform:scale(1.1);box-shadow:0 6px 30px var(--chat-shadow-lg)}.chatbot-floating-btn:active{transform:scale(.95)}.chatbot-floating-btn.hidden{opacity:0;visibility:hidden;transform:scale(0)}.chatbot-floating-btn svg{width:40px;height:40px}.floating-btn-badge{position:absolute;top:8px;right:8px;background:#ef4444;color:#fff;font-size:12px;font-weight:600;width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:2px solid var(--chat-background)}.chatbot-chat{flex:1;overflow-y:auto;padding:20px;background:var(--chat-surface);display:flex;flex-direction:column;gap:12px}.chatbot-chat::-webkit-scrollbar{width:6px}.chatbot-chat::-webkit-scrollbar-track{background:transparent}.chatbot-chat::-webkit-scrollbar-thumb{background:var(--chat-border);border-radius:3px}.chatbot-chat::-webkit-scrollbar-thumb:hover{background:var(--chat-text-secondary)}.chat-message{display:flex;margin-bottom:4px;opacity:0;transform:translateY(10px);animation:messageSlideIn .3s forwards}.chat-message.message-visible{opacity:1;transform:translateY(0)}.chat-message-user{justify-content:flex-end}.chat-message-bot{justify-content:flex-start}.message-bubble{max-width:75%;padding:16px 12px;border-radius:18px;word-wrap:break-word;position:relative;box-shadow:0 1px 2px var(--chat-shadow);font-size:16px;line-height:normal}.message-bubble p{margin:0 0 8px}.message-bubble p:last-child{margin-bottom:0}.message-bubble ul,.message-bubble ol{margin:8px 0 12px;padding-left:24px;list-style-position:outside}.message-bubble li{margin-bottom:4px;line-height:1.4}.message-bubble ul ul,.message-bubble ol ul,.message-bubble ul ol{margin:4px 0}.message-bubble strong,.message-bubble b{font-weight:700}.message-bubble em,.message-bubble i{font-style:italic}.message-bubble a{text-decoration:underline;cursor:pointer;font-weight:500;word-break:break-all}.chat-message-bot .message-bubble a{color:var(--chat-primary-color)}.chat-message-user .message-bubble a{color:#fff;text-decoration-color:#ffffff80}.chat-message-user .message-bubble a:hover{opacity:.9}.message-bubble pre{background:#000000d9;color:#e5e7eb;padding:12px;border-radius:8px;overflow-x:auto;margin:10px 0;font-family:monospace;font-size:.9em}.message-bubble code{font-family:monospace;font-size:.9em;padding:2px 5px;border-radius:4px}.chat-message-bot .message-bubble code{background:#0000000f;color:#d946ef}.chat-message-user .message-bubble code{background:#fff3;color:#fff}.chat-message-user .message-bubble{background:var(--chat-user-message-bg);color:var(--chat-user-message-text);border-bottom-right-radius:4px}.chat-message-bot .message-bubble{background:var(--chat-bot-message-bg);color:var(--chat-bot-message-text);border-bottom-left-radius:4px}.typing-indicator .message-bubble{padding:16px 20px;display:flex;gap:6px;align-items:center}.typing-indicator .dot{width:8px;height:8px;border-radius:50%;background:var(--chat-text-secondary);animation:typingBounce 1.4s infinite}.typing-indicator .dot:nth-child(2){animation-delay:.2s}.typing-indicator .dot:nth-child(3){animation-delay:.4s}.waiting-text{color:var(--text-secondary, #6b7280);font-size:.875rem;font-style:italic;animation:pulse 2s ease-in-out infinite}.chatbot-agent-btn-container{display:flex;align-items:center;gap:20px;overflow-x:auto;padding:.75rem 1rem}.chatbot-agent-btn{padding:.625rem 1rem;background:transparent;border:1.5px solid var(--chat-primary-color);color:var(--chat-primary-color);border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:.5rem;white-space:nowrap}.chatbot-agent-btn:hover{background:var(--chat-primary-color);color:#fff}.chatbot-agent-btn:active{transform:translateY(0)}.chatbot-input-area{display:flex;gap:12px;padding:16px 20px;background:var(--chat-background);border-top:1px solid var(--chat-border);align-items:flex-end}#chatInput{flex:1;padding:12px 16px;border:2px solid var(--chat-border);border-radius:12px;font-size:14px;font-family:inherit;background:var(--chat-surface);color:var(--chat-text-primary);resize:none;max-height:100px;transition:all .2s;outline:none;field-sizing:content}#chatInput:focus{border-color:var(--chat-primary-color);box-shadow:0 0 0 3px #2563eb1a}#chatInput::placeholder{color:var(--chat-text-secondary)}#sendBtn{background:var(--chat-primary-color);color:#fff;border:none;border-radius:12px;width:44px;height:44px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;flex-shrink:0}#sendBtn:hover:not(:disabled){background:var(--chat-primary-hover);transform:scale(1.05)}#sendBtn:active:not(:disabled){transform:scale(.95)}#sendBtn:disabled{opacity:.5;cursor:not-allowed}.chatbot-footer{padding:12px 20px;background:var(--chat-background);border-top:1px solid var(--chat-border);text-align:center;font-size:12px;color:var(--chat-text-secondary)}.email-prompt .message-bubble{display:flex;flex-direction:column;gap:8px;padding:16px 20px;background:var(--chat-bot-message-bg);color:var(--chat-bot-message-text);border-radius:18px;max-width:75%}.email-prompt form{display:flex;flex-direction:column;gap:8px}.email-prompt input{padding:10px 14px;border:2px solid var(--chat-border);border-radius:12px;font-size:14px;font-family:inherit;background:var(--chat-surface);color:var(--chat-text-primary);outline:none;transition:all .2s}.email-prompt input:focus{border-color:var(--chat-primary-color);box-shadow:0 0 0 3px #8167df33}.email-prompt button[type=submit]{padding:10px 16px;background:var(--chat-primary-color);color:#fff;border:none;border-radius:12px;font-size:14px;font-weight:500;cursor:pointer;margin-top:20px;transition:all .2s}.email-prompt button[type=submit].loading{position:relative;color:transparent;pointer-events:none}.email-prompt button[type=submit].loading:after{content:"";position:absolute;top:50%;left:50%;width:16px;height:16px;margin:-8px 0 0 -8px;border:2px solid white;border-top-color:transparent;border-radius:50%;animation:pulseRotate 1s linear infinite}.email-prompt button[type=submit]:hover{background:var(--chat-primary-hover);transform:scale(1.03)}.email-prompt button[type=submit]:active{transform:scale(.95)}.field-error{color:#ef4444;font-size:.75rem;display:none;margin:0}.field-error.visible{display:block}.human-contact-buttons{display:flex;gap:12px;margin-top:12px;margin-bottom:20px;flex-wrap:wrap}.human-contact-buttons button{flex:1 1 auto;min-width:90px;padding:10px 16px;font-size:14px;font-weight:500;border-radius:12px;border:1px solid var(--chat-primary-color);background:var(--chat-background);color:var(--chat-primary-color);cursor:pointer;transition:all .2s ease}.human-contact-buttons button:hover{background:var(--chat-primary-color);color:#fff;transform:scale(1.05)}.human-contact-buttons button:active{transform:scale(.95)}.human-contact-buttons button{opacity:0;transform:translateY(10px);animation:messageSlideIn .3s forwards;animation-delay:.1s}.human-contact-buttons button:nth-child(2){animation-delay:.15s}.human-contact-buttons button:nth-child(3){animation-delay:.2s}@media(max-width:480px){.email-prompt .message-bubble{max-width:85%}.email-prompt input[type=email],.email-prompt button[type=submit]{width:100%;box-sizing:border-box}.human-contact-buttons{flex-direction:column}.human-contact-buttons button{width:100%}}@media(max-width:480px){[data-mode=modal] .chatbot-widget,[data-mode=floating] .chatbot-widget{width:100%;height:100%;max-width:100%;max-height:100%;border-radius:0}[data-mode=modal] .chatbot-widget{top:0;left:0;transform:translate(0) scale(.9)}[data-mode=modal] .chatbot-widget.widget-open{transform:translate(0) scale(1)}[data-mode=floating] .chatbot-widget{bottom:0;right:0}.message-bubble{max-width:85%}}@media(prefers-reduced-motion:reduce){*{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}@keyframes typingBounce{0%,60%,to{transform:translateY(0)}30%{transform:translateY(-8px)}}@keyframes messageSlideIn{to{opacity:1;transform:translateY(0)}}@keyframes pulse{0%,to{opacity:.6}50%{opacity:1}}@keyframes slideOut{to{opacity:0;transform:translateY(10px);max-height:0;padding:0;margin:0;overflow:hidden}}@keyframes pulseRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
